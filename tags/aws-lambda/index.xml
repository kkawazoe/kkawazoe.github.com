<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>AWS Lambda on Note To Self ~One Step At A Time~</title><link>https://kkawazoe.github.io/tags/aws-lambda/</link><description>Recent content in AWS Lambda on Note To Self ~One Step At A Time~</description><generator>Hugo -- gohugo.io</generator><language>jp</language><lastBuildDate>Thu, 21 Nov 2024 09:00:00 +0900</lastBuildDate><atom:link href="https://kkawazoe.github.io/tags/aws-lambda/index.xml" rel="self" type="application/rss+xml"/><item><title>長期間使用していない AWS Lambda の inactive 状態を active 状態にする方法</title><link>https://kkawazoe.github.io/blog/2024/11/21/solution-if-you-want-to-keep-amazon-rds-stopped/</link><pubDate>Thu, 21 Nov 2024 09:00:00 +0900</pubDate><guid>https://kkawazoe.github.io/blog/2024/11/21/solution-if-you-want-to-keep-amazon-rds-stopped/</guid><description>長期間使用していない AWS Lambda の inactive 状態を active 状態にする方法を備忘録として残しておく
事象 関数が数週間アイドルのままの場合、Inactive 状態になり、その状態で関数を呼び出すとエラーになる
詳細は以下を参照
AWS Lambda関数の状態の追跡 対象の洗い出し 以下のスクリプトを AWS CLI にて使用することで対象の洗い出しが行える
#!/bin/sh aws --profile &amp;lt;&amp;lt;プロフィール名&amp;gt;&amp;gt; lambda list-functions --region &amp;lt;&amp;lt;リージョン名&amp;gt;&amp;gt; --query &amp;#39;Functions[?starts_with(FunctionName, `&amp;lt;&amp;lt;関数名プレフィックス&amp;gt;&amp;gt;`) == `true`].FunctionName&amp;#39; &amp;gt; lambda_list.json lambda_names=`jq -r .[] lambda_list.json` for lambda_name in $lambda_names; do aws --profile &amp;lt;&amp;lt;プロフィール名&amp;gt;&amp;gt; lambda get-function --output text --function-name $lambda_name --query &amp;#39;Configuration.[FunctionName, State, LastUpdateStatus]&amp;#39; | sort -k 1 | column -t -s &amp;#34;`printf &amp;#39;\t&amp;#39;`&amp;#34; done 解消方法 inactive の状態で lambda を実行するとエラーになるがしばらくすると active 状態となり実行可能となる</description></item><item><title>AWS Lambda の amplify-login で始まる関数の要否判断について</title><link>https://kkawazoe.github.io/blog/2024/04/24/determining-whether-a-function-starting-with-amplify-login-in-aws-lambda-is-required-or-not/</link><pubDate>Wed, 24 Apr 2024 13:00:00 +0900</pubDate><guid>https://kkawazoe.github.io/blog/2024/04/24/determining-whether-a-function-starting-with-amplify-login-in-aws-lambda-is-required-or-not/</guid><description>AWS Lambda の amplify-login で始まる関数の要否判断について調査した結果を備忘録として残しておく
調査に至った事象 AWS より以下のメールが配信されていた
対象の Lambda 関数を確認すると掲題のものが指摘を受けていたが、作成した記憶がなかったため、要否の判断がつかなかったため、調査を行なった
[アクションが必要です] AWS Lambda での Node.js 16 のサポート終了について | [Action Required] AWS Lambda end of support for Node.js 16 English follows Japanese | 英語のメッセージは日本語の後にございます いつもお世話になっております。 [Amazon Health Dashboard はこのコミュニケーションに関するリマインダー通知を定期的にトリガーする場合があります] お客様の AWS アカウントに現在、Node.js 16 ランタイムを使用する AWS Lambda 関数が 1 つ以上あることが判明したため、ご連絡いたしております。 Lambda での Node.js 16 のサポートは 2024 年 6 月 12 日に終了します。これは、2023 年 9 月 11 日に Node.js 16 がサポート終了 (EOL) したことに続くものです [1]。 Lambda ランタイムサポートポリシー [2] で説明されているように、Lambda の言語ランタイムのサポートはいくつかの段階で終了します。2024 年 6 月 12 日以降、Lambda は Lambda 関数で使用される Node.</description></item><item><title>Amazon Lambda で登録されている関数一覧を取得する方法</title><link>https://kkawazoe.github.io/blog/2024/01/16/how-to-get-a-list-of-registered-functions-in-amazon-lambda/</link><pubDate>Tue, 16 Jan 2024 12:00:00 +0900</pubDate><guid>https://kkawazoe.github.io/blog/2024/01/16/how-to-get-a-list-of-registered-functions-in-amazon-lambda/</guid><description>Amazon Lambda で登録されている関数一覧を取得する方法について調査した内容を備忘録として残しておく
方法 該当の AWS Console にログインして AWS Cloud Shell 上で以下のコマンドを実行する
実際のコード aws lambda list-functions --region {リージョン名} \ | jq &amp;#39;.Functions[] | [.FunctionName]&amp;#39; \ | jq -rs &amp;#39;map([.[]])[] | @csv&amp;#39; \ | tr -d &amp;#39;&amp;#34;&amp;#39; \ &amp;gt; lambda-functions-list.csv</description></item></channel></rss>